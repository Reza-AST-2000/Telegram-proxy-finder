<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>پروکسی یاب تلگرام</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800&display=swap');
        :root {
            --bg-color: #010409;
            --card-bg-color: #0d1117;
            --border-color: rgba(255,255,255,0.1);
            --text-color: #e6edf3;
            --text-secondary-color: #7d8590;
            --accent-color: #2f81f7;
            --glow-color: rgba(47,129,247,0.7);
        }
        * { font-family: 'Vazirmatn', sans-serif; box-sizing: border-box; }
        body { background-color: var(--bg-color); color: var(--text-color); overflow-x: hidden; -webkit-font-smoothing:antialiased; }
        .proxy-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 24px; }
        .proxy-card { background-color: var(--card-bg-color); border: 1px solid var(--border-color); border-radius: 12px; padding: 24px; position: relative; overflow: hidden; transition: transform .3s ease, box-shadow .3s ease; }
        .proxy-card::before { content:""; position:absolute; top:0; left:0; width:100%; height:100%; border-radius:12px; background: radial-gradient(600px circle at var(--mouse-x) var(--mouse-y), var(--glow-color), transparent 40%); opacity:0; transition: opacity .4s ease-out; z-index:0; pointer-events:none; }
        .proxy-card:hover::before { opacity: .08; }
        .card-content { position: relative; z-index: 1; }
        .btn { background: rgba(255,255,255,0.05); color: var(--text-color); border: 1px solid var(--border-color); border-radius: 8px; font-weight:600; cursor:pointer; padding:.6rem 1rem; }
        .btn-primary { background:var(--accent-color); border-color:var(--accent-color); color:#fff; }
        .btn-success { background:#238636; border-color:#238636; color:#fff; }
        .status-badge { display:inline-flex; align-items:center; gap:6px; padding:4px 12px; border-radius:20px; font-size:12px; font-weight:500; background: rgba(0,0,0,0.3); border:1px solid transparent; }
        .status-good { color:#3fb950; border-color:#3fb950; } .status-medium { color:#d29922; border-color:#d29922; } .status-bad { color:#f85149; border-color:#f85149; } .status-unknown { color:var(--text-secondary-color); border-color:var(--text-secondary-color); }
        .pulsing-dot { animation: pulse 2s infinite; }
        @keyframes pulse { 0%,100%{ box-shadow: 0 0 0 0 rgba(63,185,80,0.7);} 50%{ box-shadow: 0 0 0 8px rgba(63,185,80,0);} }
        .loading-spinner { width:20px; height:20px; border:2px solid var(--border-color); border-radius:50%; border-top-color:var(--accent-color); animation:spin 1s linear infinite; }
        @keyframes spin { to{ transform: rotate(360deg); } }
        .fade-in-up { animation: fadeInUp .6s ease-out forwards; opacity:0; }
        @keyframes fadeInUp { from{ opacity:0; transform: translateY(25px);} to{ opacity:1; transform: translateY(0);} }
        .hidden { display:none !important; }
    </style>
</head>
<body>
    <main class="container mx-auto px-4 py-8 md:py-12 relative z-10">
        <section id="control-panel" class="proxy-card p-6 mb-8 fade-in-up" style="animation-delay:.2s;">
            <div class="card-content">
                <div class="flex flex-col md:flex-row gap-6 items-center justify-between">
                    <div class="flex items-center gap-3 w-full md:w-auto">
                        <button id="refreshBtn" class="btn btn-primary flex items-center justify-center gap-2" aria-label="دریافت پروکسی جدید">
                            <i id="refreshIcon" class="fa-solid fa-rotate btn-icon"></i>
                            <span>دریافت پروکسی جدید</span>
                        </button>
                        <select id="proxyCountSelect" class="btn bg-gray-800 border-gray-700 text-white">
                            <option value="5" selected>۵ تا</option>
                            <option value="10">۱۰ تا</option>
                            <option value="20">۲۰ تا</option>
                            <option value="all">همه</option>
                        </select>
                    </div>
                </div>
            </div>
        </section>
        <div id="proxyList" class="proxy-grid" aria-live="polite"></div>
    </main>
    <script>
        let allProxies = [];
        let visibleProxies = [];
        let perPage = 5;
        const proxyList = document.getElementById('proxyList');
        const proxyCountSelect = document.getElementById('proxyCountSelect');

        proxyCountSelect.addEventListener('change', () => {
            const value = proxyCountSelect.value;
            perPage = value === 'all' ? allProxies.length : parseInt(value);
            renderProxies();
        });

        async function loadProxies() {
            allProxies = [];
            for (let i = 1; i <= 30; i++) {
                allProxies.push({id: i, server: 'proxy'+i+'.com'});
            }
            renderProxies();
        }

        function renderProxies() {
            proxyList.innerHTML = '';
            visibleProxies = allProxies.slice(0, perPage);
            visibleProxies.forEach(proxy => {
                const div = document.createElement('div');
                div.className = 'proxy-card p-4';
                div.textContent = proxy.server;
                proxyList.appendChild(div);
            });
        }

        document.getElementById('refreshBtn').addEventListener('click', loadProxies);
        window.onload = loadProxies;
    </script>
</body>
</html>
